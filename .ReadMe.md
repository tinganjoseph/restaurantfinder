
React which is the frontend sends a request 
to the backend which is Node/Express
and the back filter through the Route-Handler then send 
Response


// Middleware
Middleware recieved the original request from the frontend and then 
perform certain action and then send the request down the Route-Handler
The Route-Handler the respond

//Technical every route is a middleware


//use middleware package like 
morgan

npm i morgan
 use const = morgan = require('morgan)
 ** this API is already config so you don't need to include next


   /**Note: in the package.json
   * under scripts
   * "start": "nodemon server.js"
   * this will auto start the application
   */


/**  
 * //morgan middle
app.use(morgan("dev"));

//declaring custom middleware
app.use((req, res, next)=>{
    console.log("custom middleware");
    //next pass the next action the the route
    next();
})
 * 
 */




 //writing a route using the api
//app is reference to the instance express
//http://localhost:3001/getRestaurants
//**get request uses the url and the callback function */
//callback function gets two parameters request and the respond
//http resquest will be stored in the req
//respond will be send back with the res
app.get("/getRestaurants",(req,res)=>{
    //error function
      //console.log("get all restaurants");

    //use the respond when they access the url successfully
    //res.send("these are the restaurants");

    //respond in json
    //changing the status code
     //res.status(404).json
    res.json({
       status: "success",
       restaurant: "mcdonalds",
    });
});




//importing the environment variable 
require('dotenv').config();
//importing express
const express = require("express");
//importing morgan 
const morgan = require("morgan");
//creating an instance of express app
const app = express() // app is the variable of the instance express

/**using morgan middel express function */
app.use(express.json());






//Get all Restuarants
app.get("/app/v1/restaurants",(req, res)=>{
    res.status(200).json({
        status: "success",
        date: {
            restaurant: ["KFC", "MCdonals"],
        },
    });
});

// Get single Restaurant
app.get("/app/v1/restaurants/:id", (req, res)=>{
    console.log(req);

  
});

//Create a Restaurant
app.post("/app/v1/restaurants", (req, res)=>{
    console.log(req.body);
    res.status(201).json({
        status: "success",
        date: {
            restaurant: "KFC"
        }
    })
}    
);
//Updating Restaurant
app.put("/app/v1/restaurants/:id", (req, res)=>{
    console.log(req.params.id);
    console.log(req.body);
    res.status(200).json({
        status: "success",
        date: {
            restaurant: "KFC"
        }
    })
});

//Deleting Restaurant
app.delete("/app/v1/restaurants/:id", (req, res)=>{
    res.status(204).json({
        status: "success"
    });
});
//express listening to a specific port
//declaring the port 
// || 3001 is port used incase the main port is not working
 const port = process.env.PORT || 3001
app.listen(port,() => {
   console.log(`server is up and listening on port ${port}`);

});//3000 is the port and the callback function is in the brace






****/// 
axios will be used for API request
